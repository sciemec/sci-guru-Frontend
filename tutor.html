<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Sci-Guru AI Tutor</title>
  <link rel="stylesheet" href="styles.css" />
</head>
<body>
  <header class="topbar">
    <div class="container row">
      <div class="brand">
        <img src="images/lec-logo.png" alt="LEC Biotec Logo">
        <div class="title">
          <b>Sci-Guru AI Science Tutor</b>
          <span>ZIMSEC / Heritage-Based curriculum</span>
        </div>
      </div>

      <nav class="nav">
        <a href="index.html">Home</a>
        <a class="active" href="tutor.html">AI Tutor</a>
        <a href="virtual-lab-hub.html">Virtual Lab Hub</a>
      </nav>
    </div>
  </header>

  <main class="container" style="padding:18px 0 30px;">
    <div class="split">
      <!-- LEFT: Ask -->
      <section class="card">
        <h2>Ask Sci-Guru</h2>
        <p class="small">Choose Form and Topic, then ask a question.</p>

        <label class="small" for="form">Form / Level</label>
        <select id="form" class="input">
          <option value="Form 1">Form 1</option>
          <option value="Form 2">Form 2</option>
          <option value="Form 3">Form 3</option>
          <option value="Form 4">Form 4</option>
        </select>

        <div style="height:10px"></div>

        <label class="small" for="topic">Topic</label>
        <select id="topic" class="input">
          <option value="">Optional: choose a topic</option>
        </select>

        <div style="height:10px"></div>

        <label class="small" for="q">Your question</label>
        <textarea id="q" class="input" placeholder="e.g. Explain density using Zimbabwean examples..."></textarea>

        <div style="height:10px"></div>

        <div class="actions">
          <button class="btn primary" id="askBtn">Ask Sci-Guru</button>
          <button class="btn" id="quizBtn">Generate quiz</button>
          <button class="btn" id="pracBtn">Generate practical</button>
          <a class="btn" href="virtual-lab-hub.html">Open virtual lab hub</a>
        </div>

        <div id="how-to" style="margin-top:14px" class="small">
          Tip: If you don’t select a topic, Sci-Guru answers generally for the chosen Form.
        </div>
      </section>

      <!-- RIGHT: Results -->
      <section class="card">
        <h2>Output</h2>
        <p class="small">Your explanation / quiz / practical will appear here.</p>
        <div id="out" class="card" style="background:rgba(255,255,255,.03); border-radius:12px; border:1px solid var(--border); box-shadow:none;">
          <p class="small" style="margin:0">No response yet.</p>
        </div>
      </section>
    </div>
  </main>

  <script>
    // Simple topic list (you can expand anytime)
    const TOPICS = {
      "Form 1": [
        "Measurement & Safety",
        "States of Matter",
        "Density",
        "Separation of Mixtures",
        "Electric Circuits (Basics)"
      ],
      "Form 2": [
        "Forces & Pressure",
        "Energy & Heat",
        "Cells & Microscopes",
        "Acids, Bases & Salts"
      ],
      "Form 3": [
        "Chemical Reactions",
        "Electricity & Magnetism",
        "Ecology & Environment"
      ],
      "Form 4": [
        "Rates of Reaction",
        "Genetics (Basics)",
        "Waves & Light",
        "Organic Chemistry (Basics)"
      ]
    };

    const formEl = document.getElementById('form');
    const topicEl = document.getElementById('topic');
    const qEl = document.getElementById('q');
    const outEl = document.getElementById('out');

    function loadTopics() {
      const f = formEl.value;
      const items = TOPICS[f] || [];
      topicEl.innerHTML = '<option value="">Optional: choose a topic</option>' +
        items.map(t => `<option value="${t}">${t}</option>`).join('');
    }

    function render(text) {
      outEl.innerHTML = `<div style="white-space:pre-wrap; line-height:1.6">${text}</div>`;
    }

    // NOTE: GitHub Pages is static. This is a placeholder response.
    // If you later connect to a backend API, tell me the endpoint and I’ll wire it up.
    function fakeAnswer(mode){
      const f = formEl.value;
      const t = topicEl.value || "General";
      const q = qEl.value.trim() || "No question typed.";
      return `Mode: ${mode}\nForm: ${f}\nTopic: ${t}\n\n${mode === 'Quiz'
        ? '1) Question...\n2) Question...\n3) Question...\n\n(You can connect API later for real generation.)'
        : mode === 'Practical'
        ? 'Aim:\nApparatus:\nMethod:\nResults:\nSafety:\n\n(You can connect API later for real generation.)'
        : 'Answer:\n\n(This is a placeholder on GitHub Pages. Connect API for real tutor responses.)'
      }\n\nYour input: ${q}`;
    }

    document.getElementById('askBtn').onclick = () => render(fakeAnswer('Explain'));
    document.getElementById('quizBtn').onclick = () => render(fakeAnswer('Quiz'));
    document.getElementById('pracBtn').onclick = () => render(fakeAnswer('Practical'));
    formEl.addEventListener('change', loadTopics);

    loadTopics();
  </script>
</body>
</html>
