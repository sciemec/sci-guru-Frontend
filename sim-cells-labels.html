<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width,initial-scale=1"/>
  <title>Cell Labeling • Sci-Guru</title>
  <style>
    :root{
      --bg:#0b1220; --text:#e8eefc; --muted:#a9b7dd;
      --line:rgba(255,255,255,.10);
      --accent:#4da3ff; --accent2:#7c5cff;
      --good:#3ddc97; --bad:#ff6b6b;
      --shadow:0 18px 55px rgba(0,0,0,.35);
      --radius:18px;
    }
    *{box-sizing:border-box}
    body{
      margin:0;
      font-family: system-ui,-apple-system,Segoe UI,Roboto,Arial,sans-serif;
      background: radial-gradient(1200px 700px at 10% 20%, rgba(77,163,255,.18), transparent 55%),
                  radial-gradient(1000px 600px at 90% 20%, rgba(124,92,255,.18), transparent 55%),
                  var(--bg);
      color:var(--text);
    }
    .wrap{max-width:1200px; margin:0 auto; padding:18px 16px 28px}
    .top{
      display:flex; align-items:center; justify-content:space-between; gap:12px;
      padding:14px 14px;
      border:1px solid var(--line);
      border-radius:18px;
      background:rgba(255,255,255,.05);
      box-shadow:var(--shadow);
    }
    .brand{display:flex; align-items:center; gap:12px}
    .logo{
      width:40px; height:40px; border-radius:12px;
      background:rgba(255,255,255,.06);
      border:1px solid var(--line);
      overflow:hidden; display:flex; align-items:center; justify-content:center;
    }
    .logo img{width:100%; height:100%; object-fit:cover}
    h1{margin:0; font-size:16px}
    .sub{color:var(--muted); font-size:12px; margin-top:2px}
    .nav{display:flex; gap:10px; flex-wrap:wrap; justify-content:flex-end}
    .nav a{
      text-decoration:none; color:var(--text);
      border:1px solid var(--line);
      background:rgba(255,255,255,.04);
      padding:10px 12px;
      border-radius:12px;
      font-size:13px;
    }
    .nav a.primary{
      border-color:rgba(77,163,255,.45);
      background:linear-gradient(135deg, rgba(77,163,255,.22), rgba(124,92,255,.18));
    }

    .grid{
      margin-top:14px;
      display:grid;
      grid-template-columns: 1.2fr .8fr;
      gap:12px;
    }
    @media (max-width: 980px){ .grid{grid-template-columns:1fr} }

    .panel{
      border:1px solid var(--line);
      border-radius:22px;
      background:linear-gradient(180deg, rgba(255,255,255,.06), rgba(255,255,255,.03));
      box-shadow:var(--shadow);
      overflow:hidden;
    }
    .ph{
      padding:14px 16px;
      border-bottom:1px solid var(--line);
      display:flex; align-items:center; justify-content:space-between; gap:10px;
    }
    .ph h2{margin:0; font-size:14px}
    .pill{
      font-size:12px; color:var(--muted);
      border:1px solid var(--line);
      background:rgba(0,0,0,.15);
      padding:6px 10px;
      border-radius:999px;
    }
    .pb{padding:14px 16px}

    .modeRow{
      display:flex; gap:10px; flex-wrap:wrap;
      margin-bottom:12px;
    }
    .modeRow button{
      border:1px solid var(--line);
      background:rgba(0,0,0,.15);
      color:var(--text);
      padding:10px 12px;
      border-radius:14px;
      cursor:pointer;
      font-weight:800;
      font-size:13px;
    }
    .modeRow button.active{
      border-color:rgba(77,163,255,.45);
      background:linear-gradient(135deg, rgba(77,163,255,.22), rgba(124,92,255,.18));
    }

    .canvas{
      display:grid;
      grid-template-columns: 1fr 1fr;
      gap:12px;
      align-items:stretch;
    }
    @media (max-width: 700px){ .canvas{grid-template-columns:1fr} }

    .cellBox{
      border:1px dashed rgba(255,255,255,.22);
      border-radius:18px;
      background:rgba(0,0,0,.12);
      padding:12px;
      min-height:360px;
      position:relative;
    }

    .targets{
      position:absolute;
      inset:12px;
      display:grid;
      grid-template-columns: 1fr;
      gap:10px;
      align-content:start;
    }
    .target{
      border:1px solid rgba(255,255,255,.16);
      background:rgba(255,255,255,.04);
      border-radius:14px;
      padding:10px 10px;
      display:flex;
      align-items:center;
      justify-content:space-between;
      gap:10px;
      min-height:44px;
    }
    .target strong{font-size:13px}
    .drop{
      min-width:170px;
      border:1px dashed rgba(255,255,255,.22);
      border-radius:12px;
      padding:8px 10px;
      color:rgba(255,255,255,.75);
      font-size:12px;
      text-align:center;
    }
    .drop.filled{
      border-style:solid;
      border-color:rgba(77,163,255,.35);
      color:var(--text);
      background:rgba(77,163,255,.12);
    }
    .drop.correct{
      border-color:rgba(61,220,151,.5);
      background:rgba(61,220,151,.12);
    }
    .drop.wrong{
      border-color:rgba(255,107,107,.55);
      background:rgba(255,107,107,.12);
    }

    .labels{
      display:flex;
      flex-wrap:wrap;
      gap:10px;
    }
    .label{
      border:1px solid rgba(255,255,255,.18);
      background:rgba(255,255,255,.04);
      color:var(--text);
      padding:10px 12px;
      border-radius:999px;
      font-weight:800;
      cursor:grab;
      user-select:none;
      font-size:13px;
    }
    .label:active{cursor:grabbing}

    .actions{
      display:flex; gap:10px; flex-wrap:wrap;
      margin-top:12px;
    }
    .actions button{
      border:none;
      padding:10px 12px;
      border-radius:14px;
      cursor:pointer;
      font-weight:900;
      color:#071022;
      background:rgba(77,163,255,.9);
    }
    .actions button.secondary{
      color:var(--text);
      background:rgba(0,0,0,.18);
      border:1px solid var(--line);
    }
    .note{color:var(--muted); font-size:12px; line-height:1.5; margin-top:10px}
  </style>
</head>

<body>
  <div class="wrap">
    <div class="top">
      <div class="brand">
        <div class="logo">
          <img src="lec-logo.jpg" alt="LEC Biotec Logo" onerror="this.style.display='none'; this.parentElement.textContent='SG';"/>
        </div>
        <div>
          <h1>Cell Labeling</h1>
          <div class="sub">Drag labels onto the correct organelles</div>
        </div>
      </div>

      <div class="nav">
        <a href="index.html">Home</a>
        <a href="tutor.html">Tutor</a>
        <a href="sim-cells-hub.html">Cells Hub</a>
        <a class="primary" href="sim-cells-labels.html">Cell Labeling</a>
      </div>
    </div>

    <div class="grid">
      <!-- LEFT: TARGETS -->
      <div class="panel">
        <div class="ph">
          <h2>Drop Targets</h2>
          <span class="pill" id="scorePill">Score: 0 / 0</span>
        </div>
        <div class="pb">
          <div class="modeRow">
            <button id="animalBtn" class="active" type="button">Animal Cell</button>
            <button id="plantBtn" type="button">Plant Cell</button>
          </div>

          <div class="canvas">
            <div class="cellBox">
              <div class="targets" id="targets"></div>
            </div>

            <div class="cellBox">
              <div style="font-weight:900;margin-bottom:8px">Labels</div>
              <div class="labels" id="labels"></div>

              <div class="actions">
                <button id="checkBtn" type="button">Check Answers</button>
                <button id="resetBtn" class="secondary" type="button">Reset</button>
                <button class="secondary" type="button" onclick="location.href='sim-cells-hub.html'">← Back</button>
                <button class="secondary" type="button" onclick="location.href='tutor.html'">← Back to Tutor</button>
              </div>

              <div class="note">
                Tip: Your repo filename is <b>sim-cells-labels.html</b>.
                If a link says “labeling”, GitHub Pages will show 404.
              </div>
            </div>
          </div>
        </div>
      </div>

      <!-- RIGHT: QUICK NOTES -->
      <div class="panel">
        <div class="ph">
          <h2>Quick Notes</h2>
          <span class="pill">Form 1</span>
        </div>
        <div class="pb" style="line-height:1.55; color: var(--muted); font-size:13px">
          <b style="color:var(--text)">Nucleus</b> controls cell activities.<br/>
          <b style="color:var(--text)">Cell membrane</b> controls entry/exit.<br/>
          <b style="color:var(--text)">Cytoplasm</b> is where reactions happen.<br/>
          <b style="color:var(--text)">Mitochondria</b> release energy (respiration).<br/>
          <b style="color:var(--text)">Ribosomes</b> make proteins.<br/>
          <b style="color:var(--text)">Vacuole</b> stores water/food (bigger in plants).<br/>
          <b style="color:var(--text)">Cell wall</b> supports plant cells only.<br/>
          <b style="color:var(--text)">Chloroplasts</b> photosynthesis (plants only).<br/>
        </div>
      </div>
    </div>
  </div>

  <script>
    const DATA = {
      animal: [
        { key:"Nucleus", hint:"Controls cell activities" },
        { key:"Cell membrane", hint:"Controls entry and exit" },
        { key:"Cytoplasm", hint:"Where reactions happen" },
        { key:"Mitochondria", hint:"Releases energy" },
        { key:"Ribosomes", hint:"Makes protein" }
      ],
      plant: [
        { key:"Nucleus", hint:"Controls cell activities" },
        { key:"Cell membrane", hint:"Controls entry and exit" },
        { key:"Cytoplasm", hint:"Where reactions happen" },
        { key:"Mitochondria", hint:"Releases energy" },
        { key:"Ribosomes", hint:"Makes protein" },
        { key:"Vacuole", hint:"Stores cell sap" },
        { key:"Cell wall", hint:"Support/shape (plant only)" },
        { key:"Chloroplasts", hint:"Photosynthesis (plant only)" }
      ]
    };

    let mode = "animal";

    const targetsEl = document.getElementById("targets");
    const labelsEl = document.getElementById("labels");
    const scorePill = document.getElementById("scorePill");

    const animalBtn = document.getElementById("animalBtn");
    const plantBtn  = document.getElementById("plantBtn");
    const checkBtn  = document.getElementById("checkBtn");
    const resetBtn  = document.getElementById("resetBtn");

    function shuffle(arr){
      return arr.map(v=>({v, r:Math.random()})).sort((a,b)=>a.r-b.r).map(x=>x.v);
    }

    function render(){
      targetsEl.innerHTML = "";
      labelsEl.innerHTML = "";

      const items = DATA[mode];
      const keys = items.map(x=>x.key);
      const labelList = shuffle([...keys]);

      items.forEach(item=>{
        const row = document.createElement("div");
        row.className = "target";

        const left = document.createElement("div");
        left.innerHTML = `<strong>${item.key}</strong><div style="font-size:12px;color:rgba(255,255,255,.65);margin-top:2px">${item.hint}</div>`;

        const drop = document.createElement("div");
        drop.className = "drop";
        drop.textContent = "Drop label here";
        drop.dataset.answer = item.key;
        drop.dataset.value = "";

        drop.addEventListener("dragover", e=>{
          e.preventDefault();
          drop.style.borderColor = "rgba(77,163,255,.55)";
        });
        drop.addEventListener("dragleave", ()=>{
          drop.style.borderColor = "rgba(255,255,255,.22)";
        });
        drop.addEventListener("drop", e=>{
          e.preventDefault();
          const val = e.dataTransfer.getData("text/plain");
          drop.dataset.value = val;
          drop.textContent = val;
          drop.classList.add("filled");
          drop.classList.remove("correct","wrong");
          drop.style.borderColor = "";
        });

        row.appendChild(left);
        row.appendChild(drop);
        targetsEl.appendChild(row);
      });

      labelList.forEach(label=>{
        const chip = document.createElement("div");
        chip.className = "label";
        chip.textContent = label;
        chip.draggable = true;
        chip.addEventListener("dragstart", e=>{
          e.dataTransfer.setData("text/plain", label);
        });
        labelsEl.appendChild(chip);
      });

      scorePill.textContent = `Score: 0 / ${items.length}`;
    }

    function check(){
      const drops = [...document.querySelectorAll(".drop")];
      let correct = 0;
      drops.forEach(d=>{
        const ans = d.dataset.answer;
        const val = d.dataset.value;
        d.classList.remove("correct","wrong");
        if(val && val === ans){
          d.classList.add("correct");
          correct++;
        }else{
          d.classList.add("wrong");
        }
      });
      scorePill.textContent = `Score: ${correct} / ${drops.length}`;
    }

    function setMode(newMode){
      mode = newMode;
      animalBtn.classList.toggle("active", mode==="animal");
      plantBtn.classList.toggle("active", mode==="plant");
      render();
    }

    animalBtn.addEventListener("click", ()=>setMode("animal"));
    plantBtn.addEventListener("click", ()=>setMode("plant"));
    checkBtn.addEventListener("click", check);
    resetBtn.addEventListener("click", render);

    render();
  </script>
</body>
  </html>
