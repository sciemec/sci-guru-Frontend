<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width,initial-scale=1"/>
  <title>Sci-Guru • Topic 19: Electricity (Virtual Lab)</title>
  <link rel="icon" href="lec-logo.jpg"/>

  <style>
    :root{
      --bg1:#0b1220; --bg2:#081a3b;
      --stroke:rgba(255,255,255,.12);
      --text:#eaf2ff;
      --muted:rgba(234,242,255,.72);
      --blue:#2f7bff;
      --purple:#7c5cff;
      --good:#33d07a;
      --warn:#ffcc66;
      --bad:#ff5a6b;
      --card:rgba(255,255,255,.05);
    }
    *{box-sizing:border-box}
    body{
      margin:0;color:var(--text);
      font-family:system-ui,-apple-system,Segoe UI,Roboto,Arial,sans-serif;
      background:
        radial-gradient(1200px 650px at 20% 10%, rgba(47,123,255,.34), transparent 60%),
        radial-gradient(900px 520px at 90% 30%, rgba(124,92,255,.22), transparent 55%),
        linear-gradient(135deg, var(--bg1), var(--bg2));
      min-height:100vh;
    }
    .wrap{max-width:1200px;margin:0 auto;padding:14px 14px 36px}
    header{
      position:sticky;top:10px;z-index:10;
      display:flex;justify-content:space-between;align-items:center;gap:12px;flex-wrap:wrap;
      padding:12px 14px;border:1px solid var(--stroke);
      background:rgba(0,0,0,.25);backdrop-filter:blur(10px);
      border-radius:16px;
    }
    .brand{display:flex;align-items:center;gap:10px;min-width:0}
    .logo{width:44px;height:44px;border-radius:12px;overflow:hidden;border:1px solid var(--stroke);background:rgba(255,255,255,.06);display:flex;align-items:center;justify-content:center}
    .logo img{width:100%;height:100%;object-fit:cover}
    .t b{display:block;font-size:16px}
    .t span{display:block;font-size:12px;color:var(--muted);white-space:nowrap;overflow:hidden;text-overflow:ellipsis}
    nav{display:flex;gap:8px;flex-wrap:wrap}
    .btn{
      border:1px solid var(--stroke);background:rgba(255,255,255,.06);
      color:var(--text);padding:10px 12px;border-radius:12px;text-decoration:none;
      font-weight:900;font-size:13px;cursor:pointer;
      display:inline-flex;align-items:center;gap:8px;
      user-select:none;
    }
    .btn.primary{border-color:rgba(47,123,255,.55);background:linear-gradient(135deg, rgba(47,123,255,.95), rgba(124,92,255,.55));color:#071022}

    .hero{
      margin-top:12px;border:1px solid var(--stroke);background:var(--card);
      border-radius:18px;padding:14px;display:flex;gap:12px;flex-wrap:wrap;justify-content:space-between;align-items:center;
    }
    .hero h1{margin:0;font-size:18px}
    .hero p{margin:6px 0 0;color:var(--muted);font-size:13px;line-height:1.5;max-width:920px}
    .pill{display:inline-flex;align-items:center;gap:8px;border:1px solid var(--stroke);background:rgba(255,255,255,.06);padding:8px 10px;border-radius:999px;font-size:12px;color:var(--muted)}
    .dot{width:9px;height:9px;border-radius:99px;background:var(--good);box-shadow:0 0 0 4px rgba(51,208,122,.14)}

    .grid{margin-top:12px;display:grid;grid-template-columns:1.15fr .85fr;gap:12px;align-items:start}
    @media(max-width:980px){.grid{grid-template-columns:1fr}}

    .panel{border:1px solid var(--stroke);background:var(--card);border-radius:18px;overflow:hidden}
    .panelHead{padding:14px;border-bottom:1px solid var(--stroke);display:flex;justify-content:space-between;align-items:center;gap:10px;flex-wrap:wrap;background:rgba(0,0,0,.18)}
    .panelHead h2{margin:0;font-size:14px}
    .panelHead small{color:var(--muted)}
    .panelBody{padding:12px}

    .tabs{display:flex;gap:8px;flex-wrap:wrap}
    .tab{
      border:1px solid rgba(255,255,255,.12);
      background:rgba(255,255,255,.06);
      color:var(--muted);
      padding:10px 12px;border-radius:14px;font-weight:900;font-size:12px;cursor:pointer;
    }
    .tab.active{
      border-color:rgba(47,123,255,.55);
      background:linear-gradient(135deg, rgba(47,123,255,.95), rgba(124,92,255,.55));
      color:#071022;
    }

    .card{border:1px solid rgba(255,255,255,.12);background:rgba(255,255,255,.05);border-radius:16px;padding:12px}
    .card h3{margin:0 0 8px;font-size:13px}
    .card p{margin:0;color:var(--muted);font-size:12px;line-height:1.5}

    input, select{
      width:100%;
      background:rgba(255,255,255,.06);
      border:1px solid rgba(255,255,255,.12);
      color:var(--text);
      border-radius:14px;
      padding:12px;
      outline:none;
      font-size:14px;
    }
    input[type="range"]{padding:0;height:38px}
    .row{display:grid;grid-template-columns:1fr 1fr .65fr;gap:8px;align-items:center}
    @media(max-width:720px){.row{grid-template-columns:1fr}}

    .miniBtn{
      border:1px solid var(--stroke);background:rgba(255,255,255,.06);color:var(--text);
      padding:10px 10px;border-radius:12px;font-weight:900;font-size:12px;cursor:pointer;
      display:inline-flex;align-items:center;gap:8px;justify-content:center;
    }
    .miniBtn.primary{border-color:rgba(47,123,255,.55);background:linear-gradient(135deg, rgba(47,123,255,.95), rgba(124,92,255,.55));color:#071022}
    .miniBtn.bad{border-color:rgba(255,90,107,.55);background:rgba(255,90,107,.16)}
    .controls{display:flex;gap:8px;flex-wrap:wrap;margin-top:10px}
    .note{
      margin-top:10px;border:1px solid rgba(255,255,255,.12);
      background:rgba(0,0,0,.18);border-radius:16px;padding:12px;min-height:80px;white-space:pre-wrap
    }
    .tag{
      display:inline-flex;align-items:center;gap:6px;
      border:1px solid rgba(255,255,255,.12);
      background:rgba(255,255,255,.06);
      padding:7px 9px;border-radius:999px;
      font-size:12px;color:var(--muted)
    }
    .tag b{color:var(--text)}

    /* Circuit view */
    .circuitBox{
      border:1px solid rgba(255,255,255,.12);
      background:rgba(0,0,0,.18);
      border-radius:16px;
      padding:12px;
      margin-top:10px;
    }
    .meters{
      display:flex;gap:8px;flex-wrap:wrap;margin-top:10px
    }
    .meter{
      border:1px solid rgba(255,255,255,.12);
      background:rgba(255,255,255,.05);
      border-radius:16px;
      padding:10px;
      flex:1 1 220px;
      min-width:220px;
    }
    .meter h4{margin:0;font-size:12px;color:var(--muted)}
    .meter b{display:block;font-size:22px;margin-top:6px}
    .bulbRow{
      display:flex;gap:8px;flex-wrap:wrap;margin-top:10px;align-items:center
    }
    .bulb{
      width:54px;height:54px;border-radius:16px;
      border:1px solid rgba(255,255,255,.12);
      background:rgba(255,255,255,.06);
      display:flex;align-items:center;justify-content:center;
      font-weight:1000;
      position:relative;
      overflow:hidden;
    }
    .glow{
      position:absolute;inset:-30px;
      background:radial-gradient(circle at 50% 50%, rgba(255,204,102,.75), transparent 55%);
      opacity:0;
      transition:opacity .2s ease;
    }
    .bulb span{position:relative;z-index:2}
    .hint{color:var(--muted);font-size:12px;margin-top:8px;line-height:1.45}
    .svgWrap{width:100%;overflow:auto}
    svg{width:100%;max-width:860px;height:auto;display:block}
    .wire{stroke:rgba(234,242,255,.65);stroke-width:6;fill:none;stroke-linecap:round;stroke-linejoin:round}
    .wire.off{stroke:rgba(234,242,255,.20)}
    .node{fill:rgba(234,242,255,.70)}
    .node.off{fill:rgba(234,242,255,.25)}
    .label{fill:rgba(234,242,255,.80);font-size:14px;font-family:system-ui,-apple-system,Segoe UI,Roboto,Arial,sans-serif}
    .box{fill:rgba(255,255,255,.06);stroke:rgba(255,255,255,.14);stroke-width:2;rx:14;ry:14}
    .box2{fill:rgba(0,0,0,.16);stroke:rgba(255,255,255,.14);stroke-width:2;rx:14;ry:14}

    footer{margin-top:16px;text-align:center;color:rgba(234,242,255,.62);font-size:12px}
  </style>
</head>

<body>
<div class="wrap">
  <header>
    <div class="brand">
      <div class="logo">
        <img src="lec-logo.jpg" alt="Logo" onerror="this.style.display='none';this.parentElement.textContent='SG';">
      </div>
      <div class="t">
        <b>Topic 19 • Electricity (Virtual Lab)</b>
        <span>Series circuits • Current & voltage • Conductors & insulators</span>
      </div>
    </div>
    <nav>
      <a class="btn" href="tutor.html">← Back to Tutor</a>
      <a class="btn" href="labs-hub.html">Labs Hub</a>
      <a class="btn primary" href="sim-electricity.html">Refresh</a>
    </nav>
  </header>

  <section class="hero">
    <div>
      <h1>Build a series circuit and read the meters</h1>
      <p>Change number of cells, number of bulbs, and resistance — then see how current and brightness change.</p>
    </div>
    <div class="pill"><span class="dot"></span> Auto-save enabled</div>
  </section>

  <div class="grid">
    <section class="panel">
      <div class="panelHead">
        <div><h2>Electricity Stations</h2><small>Pick one station</small></div>
        <div class="tabs">
          <button class="tab active" data-tab="series">Series Circuit Builder</button>
          <button class="tab" data-tab="materials">Conductors & Insulators</button>
          <button class="tab" data-tab="charges">Static vs Current</button>
        </div>
      </div>

      <div class="panelBody">
        <!-- SERIES -->
        <div class="card tabPane" id="pane-series">
          <h3>Series circuit builder</h3>
          <p>In a series circuit: <b>current is the same everywhere</b>, and adding bulbs increases total resistance so current decreases.</p>

          <div class="circuitBox">
            <div class="row">
              <div>
                <label style="color:var(--muted);font-size:12px">Cells (1–4)</label>
                <input id="cells" type="range" min="1" max="4" value="2">
              </div>
              <div>
                <label style="color:var(--muted);font-size:12px">Bulbs in series (1–3)</label>
                <input id="bulbs" type="range" min="1" max="3" value="2">
              </div>
              <div>
                <button class="miniBtn primary" id="toggleSwitch">Switch: OFF</button>
              </div>
            </div>

            <div class="row" style="margin-top:10px">
              <div>
                <label style="color:var(--muted);font-size:12px">Extra resistor (Ω)</label>
                <input id="extraR" type="range" min="0" max="30" value="5">
              </div>
              <div>
                <label style="color:var(--muted);font-size:12px">Bulb resistance each (Ω)</label>
                <input id="bulbR" type="range" min="3" max="25" value="10">
              </div>
              <div>
                <button class="miniBtn" id="randomSetup">Random</button>
              </div>
            </div>

            <div class="meters">
              <div class="meter">
                <h4>Supply Voltage (V)</h4>
                <b id="vOut">—</b>
              </div>
              <div class="meter">
                <h4>Current in series (A)</h4>
                <b id="iOut">—</b>
              </div>
              <div class="meter">
                <h4>Total Resistance (Ω)</h4>
                <b id="rOut">—</b>
              </div>
            </div>

            <div class="bulbRow">
              <span class="tag">Bulb brightness:</span>
              <div class="bulb"><div class="glow" id="g1"></div><span>Bulb 1</span></div>
              <div class="bulb"><div class="glow" id="g2"></div><span>Bulb 2</span></div>
              <div class="bulb"><div class="glow" id="g3"></div><span>Bulb 3</span></div>
            </div>
            <div class="hint" id="seriesHint">Tip: Turn ON the switch to allow current to flow.</div>

            <div class="svgWrap" style="margin-top:10px">
              <svg viewBox="0 0 920 360" aria-label="Series circuit diagram">
                <rect x="18" y="18" width="884" height="324" class="box2"></rect>

                <!-- battery box -->
                <rect x="60" y="135" width="120" height="90" class="box"></rect>
                <text x="78" y="162" class="label">Battery</text>
                <text x="78" y="185" class="label" id="batLabel">2 cells</text>

                <!-- switch -->
                <rect x="250" y="135" width="120" height="90" class="box"></rect>
                <text x="273" y="162" class="label">Switch</text>
                <text x="273" y="185" class="label" id="swLabel">OFF</text>

                <!-- bulbs area -->
                <rect x="430" y="80" width="420" height="200" class="box"></rect>
                <text x="448" y="108" class="label">Series loads</text>
                <text x="448" y="130" class="label" id="loadLabel">2 bulbs + resistor</text>

                <!-- wire loop -->
                <path id="wirePath" class="wire off"
                      d="M 120 135
                         L 120 80
                         L 860 80
                         L 860 280
                         L 120 280
                         L 120 225"></path>

                <!-- nodes -->
                <circle cx="120" cy="80" r="7" class="node off" id="n1"></circle>
                <circle cx="860" cy="80" r="7" class="node off" id="n2"></circle>
                <circle cx="860" cy="280" r="7" class="node off" id="n3"></circle>
                <circle cx="120" cy="280" r="7" class="node off" id="n4"></circle>

                <!-- ammeter -->
                <rect x="410" y="248" width="110" height="64" class="box"></rect>
                <text x="432" y="274" class="label">Ammeter</text>
                <text x="432" y="298" class="label" id="ammLabel">I = 0.00 A</text>

                <!-- voltmeter -->
                <rect x="560" y="248" width="120" height="64" class="box"></rect>
                <text x="582" y="274" class="label">Voltmeter</text>
                <text x="582" y="298" class="label" id="volLabel">V = 0.0 V</text>

                <text x="60" y="328" class="label" fill="rgba(234,242,255,.62)">
                  Notes: Ammeter is in series. Voltmeter is across the supply (shown as a reading).
                </text>
              </svg>
            </div>

            <div class="controls">
              <button class="miniBtn bad" id="resetAll">Reset Topic 19 Progress</button>
            </div>

            <div class="note" id="seriesNote">
In a closed circuit (switch ON), current flows.
In series: current is the same through all components.
Voltage is shared across components.
            </div>
          </div>
        </div>

        <!-- MATERIALS -->
        <div class="card tabPane" id="pane-materials" style="display:none">
          <h3>Conductors and insulators</h3>
          <p>Test a material: does it allow current to flow?</p>

          <div style="display:flex;gap:8px;flex-wrap:wrap">
            <span class="tag">Score: <b id="mScore">0</b></span>
            <span class="tag">Correct: <b id="mCorrect">0</b></span>
            <span class="tag">Attempts: <b id="mAttempts">0</b></span>
          </div>

          <div class="note" id="mQ">Press “New Material”</div>

          <div class="controls">
            <button class="miniBtn" id="mNew">New Material</button>
            <button class="miniBtn primary" id="mCon">Conductor</button>
            <button class="miniBtn primary" id="mIns">Insulator</button>
          </div>

          <div class="note" id="mNote">
Conductors: copper, aluminium, iron, graphite.
Insulators: plastic, rubber, wood, glass.
          </div>
        </div>

        <!-- CHARGES -->
        <div class="card tabPane" id="pane-charges" style="display:none">
          <h3>Static vs current electricity</h3>
          <p>Pick the best description.</p>

          <div class="note" id="cQ">Press “New Question”</div>

          <div class="row" style="margin-top:10px">
            <div>
              <select id="cPick">
                <option value="">-- choose answer --</option>
                <option value="static">Static electricity (charge build-up)</option>
                <option value="current">Current electricity (flow of charge)</option>
              </select>
            </div>
            <div><button class="miniBtn primary" id="cCheck">Check</button></div>
            <div><button class="miniBtn" id="cNew">New Question</button></div>
          </div>

          <div class="note" id="cNote">Tip: Static = charge collected on an object. Current = charge moving in a circuit.</div>
        </div>
      </div>
    </section>

    <aside class="panel">
      <div class="panelHead">
        <div><h2>Key Points</h2><small>Topic 19 summary</small></div>
      </div>
      <div class="panelBody">
        <div class="card">
          <h3>Charges</h3>
          <p>Positive (protons), negative (electrons). Rubbing can transfer electrons (static electricity).</p>
        </div>
        <div style="height:10px"></div>
        <div class="card">
          <h3>Current electricity</h3>
          <p>Current is the <b>flow of charge</b> in a closed circuit.</p>
        </div>
        <div style="height:10px"></div>
        <div class="card">
          <h3>Series circuits</h3>
          <p>Same current everywhere. Adding components increases resistance → current decreases → bulbs get dimmer.</p>
        </div>
        <div style="height:10px"></div>
        <div class="card">
          <h3>Meters</h3>
          <p>Ammeter is connected <b>in series</b>. Voltmeter is connected <b>across</b> (in parallel with) the component/supply.</p>
        </div>
      </div>
    </aside>
  </div>

  <footer>© 2025 LEC Biotec • sales@lecbiotec.com • Harare, Zimbabwe</footer>
</div>

<script>
  const KEY = "sciguru_topic19_electricity_lab_v1";
  const clamp = (v,min,max)=>Math.max(min, Math.min(max, v));

  function load(){
    try { return JSON.parse(localStorage.getItem(KEY)) || null; }
    catch(e){ return null; }
  }
  function save(s){ localStorage.setItem(KEY, JSON.stringify(s)); }

  const S = load() || {
    series:{ cells:2, bulbs:2, extraR:5, bulbR:10, switchOn:false },
    materials:{ score:0, correct:0, attempts:0, current:null },
    charges:{ current:null }
  };

  // Tabs
  document.querySelectorAll(".tab").forEach(btn=>{
    btn.addEventListener("click", ()=>{
      document.querySelectorAll(".tab").forEach(b=>b.classList.remove("active"));
      btn.classList.add("active");
      const t = btn.getAttribute("data-tab");
      document.querySelectorAll(".tabPane").forEach(p=>p.style.display="none");
      document.getElementById("pane-"+t).style.display="block";
      save(S);
    });
  });

  // Reset
  document.getElementById("resetAll").addEventListener("click", ()=>{
    if(!confirm("Reset Topic 19 lab progress on this device?")) return;
    localStorage.removeItem(KEY);
    location.reload();
  });

  // ===== SERIES BUILDER =====
  const cells = document.getElementById("cells");
  const bulbs = document.getElementById("bulbs");
  const extraR = document.getElementById("extraR");
  const bulbR = document.getElementById("bulbR");
  const toggleSwitch = document.getElementById("toggleSwitch");
  const randomSetup = document.getElementById("randomSetup");

  const vOut = document.getElementById("vOut");
  const iOut = document.getElementById("iOut");
  const rOut = document.getElementById("rOut");
  const seriesHint = document.getElementById("seriesHint");
  const seriesNote = document.getElementById("seriesNote");

  const wirePath = document.getElementById("wirePath");
  const n1 = document.getElementById("n1");
  const n2 = document.getElementById("n2");
  const n3 = document.getElementById("n3");
  const n4 = document.getElementById("n4");

  const batLabel = document.getElementById("batLabel");
  const swLabel = document.getElementById("swLabel");
  const loadLabel = document.getElementById("loadLabel");
  const ammLabel = document.getElementById("ammLabel");
  const volLabel = document.getElementById("volLabel");

  const g1 = document.getElementById("g1");
  const g2 = document.getElementById("g2");
  const g3 = document.getElementById("g3");

  function setGlow(glowEl, on, level){
    if(!on){ glowEl.style.opacity = 0; return; }
    glowEl.style.opacity = clamp(level, 0, 1).toFixed(2);
  }

  function computeSeries(){
    // simple model: each cell ~1.5V
    const V = Number(S.series.cells) * 1.5;

    const nBulbs = Number(S.series.bulbs);
    const Rbulb = Number(S.series.bulbR);
    const Rex = Number(S.series.extraR);

    // total resistance series sum
    const Rtotal = nBulbs * Rbulb + Rex;

    // if switch OFF => I = 0
    let I = 0;
    if(S.series.switchOn){
      I = (Rtotal > 0) ? (V / Rtotal) : 0;
    }

    // brightness ~ power per bulb: P = I^2 * Rbulb
    // map to 0..1 with a soft scale
    const P = I*I*Rbulb;
    const bright = clamp(P / 0.10, 0, 1); // scale chosen for nice display

    return {V, I, Rtotal, bright};
  }

  function renderSeries(){
    cells.value = S.series.cells;
    bulbs.value = S.series.bulbs;
    extraR.value = S.series.extraR;
    bulbR.value = S.series.bulbR;

    toggleSwitch.textContent = "Switch: " + (S.series.switchOn ? "ON" : "OFF");
    toggleSwitch.classList.toggle("primary", S.series.switchOn);

    const {V, I, Rtotal, bright} = computeSeries();

    vOut.textContent = V.toFixed(1) + " V";
    iOut.textContent = I.toFixed(3) + " A";
    rOut.textContent = Rtotal.toFixed(1) + " Ω";

    batLabel.textContent = `${S.series.cells} cell${S.series.cells>1?"s":""}`;
    swLabel.textContent = S.series.switchOn ? "ON" : "OFF";
    loadLabel.textContent = `${S.series.bulbs} bulb${S.series.bulbs>1?"s":""}` + (Number(S.series.extraR)>0 ? " + resistor" : "");

    ammLabel.textContent = `I = ${I.toFixed(3)} A`;
    volLabel.textContent = `V = ${V.toFixed(1)} V`;

    // wire + nodes visuals
    const on = S.series.switchOn && I > 0;
    wirePath.classList.toggle("off", !on);
    [n1,n2,n3,n4].forEach(n=>n.classList.toggle("off", !on));

    // bulbs shown
    const nBulbs = Number(S.series.bulbs);
    // show/hide bulb glows
    setGlow(g1, on && nBulbs>=1, bright);
    setGlow(g2, on && nBulbs>=2, bright);
    setGlow(g3, on && nBulbs>=3, bright);

    // also "hide" bulbs 2/3 if not used (dim background)
    g2.parentElement.style.opacity = (nBulbs>=2) ? 1 : .35;
    g3.parentElement.style.opacity = (nBulbs>=3) ? 1 : .35;

    if(!S.series.switchOn){
      seriesHint.textContent = "Tip: Switch is OFF → open circuit → no current → bulbs OFF.";
    } else {
      seriesHint.textContent = `Switch ON → closed circuit. Current is ${I.toFixed(3)} A everywhere in the series loop.`;
    }

    seriesNote.textContent =
`Series circuit facts:
• Current is the same everywhere in series.
• Total resistance increases when you add components.
• Increasing resistance reduces current (bulbs dimmer).
Try this:
1) Keep cells fixed, add bulbs → bulbs dim.
2) Keep bulbs fixed, add cells → bulbs brighter.`;

    save(S);
  }

  // events
  cells.addEventListener("input", ()=>{ S.series.cells = Number(cells.value); renderSeries(); });
  bulbs.addEventListener("input", ()=>{ S.series.bulbs = Number(bulbs.value); renderSeries(); });
  extraR.addEventListener("input", ()=>{ S.series.extraR = Number(extraR.value); renderSeries(); });
  bulbR.addEventListener("input", ()=>{ S.series.bulbR = Number(bulbR.value); renderSeries(); });

  toggleSwitch.addEventListener("click", ()=>{
    S.series.switchOn = !S.series.switchOn;
    renderSeries();
  });

  randomSetup.addEventListener("click", ()=>{
    S.series.cells = 1 + Math.floor(Math.random()*4);
    S.series.bulbs = 1 + Math.floor(Math.random()*3);
    S.series.extraR = Math.floor(Math.random()*31);
    S.series.bulbR = 3 + Math.floor(Math.random()*23);
    S.series.switchOn = Math.random() < 0.7;
    renderSeries();
  });

  renderSeries();

  // ===== CONDUCTORS / INSULATORS =====
  const mScore = document.getElementById("mScore");
  const mCorrect = document.getElementById("mCorrect");
  const mAttempts = document.getElementById("mAttempts");
  const mQ = document.getElementById("mQ");
  const mNote = document.getElementById("mNote");

  const materialsItems = [
    {q:"Copper wire", a:"con", exp:"Copper is a conductor."},
    {q:"Aluminium spoon", a:"con", exp:"Aluminium is a conductor."},
    {q:"Iron nail", a:"con", exp:"Iron is a conductor."},
    {q:"Graphite (pencil lead)", a:"con", exp:"Graphite conducts electricity."},
    {q:"Plastic ruler", a:"ins", exp:"Plastic is an insulator."},
    {q:"Rubber band", a:"ins", exp:"Rubber is an insulator."},
    {q:"Dry wood", a:"ins", exp:"Dry wood is an insulator."},
    {q:"Glass cup", a:"ins", exp:"Glass is an insulator."}
  ];

  function renderMat(){
    mScore.textContent = S.materials.score;
    mCorrect.textContent = S.materials.correct;
    mAttempts.textContent = S.materials.attempts;
    save(S);
  }
  renderMat();

  function newMat(){
    const it = materialsItems[Math.floor(Math.random()*materialsItems.length)];
    S.materials.current = it;
    mQ.textContent = "Material: " + it.q;
    mNote.textContent = "Conductor or Insulator?";
    renderMat();
  }

  function answerMat(ans){
    if(!S.materials.current){
      mNote.textContent = "Press “New Material” first.";
      return;
    }
    S.materials.attempts++;
    const ok = (ans === S.materials.current.a);
    if(ok){
      S.materials.correct++;
      S.materials.score += 5;
      mNote.textContent = "✅ Correct! " + S.materials.current.exp;
    } else {
      mNote.textContent = "❌ Not quite. " + S.materials.current.exp;
    }
    renderMat();
  }

  document.getElementById("mNew").addEventListener("click", newMat);
  document.getElementById("mCon").addEventListener("click", ()=>answerMat("con"));
  document.getElementById("mIns").addEventListener("click", ()=>answerMat("ins"));
  if(S.materials.current){ mQ.textContent = "Material: " + S.materials.current.q; }

  // ===== STATIC vs CURRENT =====
  const cQ = document.getElementById("cQ");
  const cPick = document.getElementById("cPick");
  const cNote = document.getElementById("cNote");

  const chargeItems = [
    {q:"Rubbing a balloon on hair and it sticks to a wall.", a:"static", exp:"Charge builds up on the balloon (static electricity)."},
    {q:"A torch lighting when the switch is ON.", a:"current", exp:"Charge flows through a circuit (current electricity)."},
    {q:"You get a small shock after walking on carpet then touching metal.", a:"static", exp:"Built-up charge discharges (static)."},
    {q:"A phone charging from a power bank.", a:"current", exp:"Electric charge flows through a circuit (current)."}
  ];

  function newCharge(){
    const it = chargeItems[Math.floor(Math.random()*chargeItems.length)];
    S.charges.current = it;
    cQ.textContent = "Scenario: " + it.q;
    cPick.value = "";
    cNote.textContent = "Choose Static or Current, then Check.";
    save(S);
  }

  document.getElementById("cNew").addEventListener("click", newCharge);

  document.getElementById("cCheck").addEventListener("click", ()=>{
    if(!S.charges.current){
      cNote.textContent = "Press “New Question” first.";
      return;
    }
    const ans = cPick.value;
    if(!ans){
      cNote.textContent = "Choose an answer first.";
      return;
    }
    const ok = (ans === S.charges.current.a);
    cNote.textContent = (ok ? "✅ Correct! " : "❌ Not quite. ") + S.charges.current.exp;
  });

  if(S.charges.current){ cQ.textContent = "Scenario: " + S.charges.current.q; }
</script>
</body>
</html>
